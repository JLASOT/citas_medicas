<div class="report-parent">
  <p-card>
  <h3>Reportes</h3>
  <div class="formgrid grid" style="display: flex; gap: 1rem;">

    <div class="field col" style="margin-top: 10px ;min-width: 320px;">
     
    <p-dropdown [options]="reportOptions" [(ngModel)]="selectedReport" optionLabel="label" [showClear]="true"
    placeholder="Seleccione un reporte" id="report-select" name="report">
  </p-dropdown>
    </div>

    <div class="field col" style="margin-top: 10px ;min-width: 320px;">
      <div *ngIf="selectedReport?.key === 'patientsByDoctor' || selectedReport?.key === 'apppointmentsByDoctor'  ">
        <!-- <label for="doctor-name">Nombre del médico:</label> -->
        <span class="p-float-label">
          <input pInputText type="text" id="doctor-name" [(ngModel)]="selectedDoctorName"
            placeholder="Ingresa el nombre del médico">
          <label htmlFor="doctor-name">Nombre del médico</label>
        </span>
      </div>
    </div>
    

    <div class="field col" style="margin-top: 10px ;min-width: 320px;">
      <div *ngIf="selectedReport?.key === 'apppointmentsByEmpl'  ">
        <!-- <label for="doctor-name">Nombre del médico:</label> -->
        <span class="p-float-label">
          <input pInputText type="text" id="empleado-name" [(ngModel)]="selectedEmpleName"
            placeholder="Ingresa el nombre del empleado">
          <label htmlFor="empleado-name">Nombre del empleado</label>
        </span>
      </div>
    </div>

   

</div>
<div class="formgrid grid" style="display: flex; gap: 1rem; margin-top: 27px;"*ngIf="selectedReport?.key === 'appointmentsByDateRange' ">

  <!-- <div class="field col" style="margin-top: 10px ;min-width: 320px;" >
    <div >
     
      <span class="p-float-label">
        <input pInputText type="date" id="startDate" [(ngModel)]="startDate"
          placeholder="Ingresa el nombre del médico">
        <label htmlFor="startDate">Fecha de inicio:</label>
      </span>
    </div>
  </div> -->

  <div class="field col" style="min-width: 320px;">
    <div class="card flex justify-content-center">
        <span class="p-float-label">
            <p-calendar 
                [(ngModel)]="startDate" 
                name="startDate" 
                [showIcon]="true" 
                dateFormat="dd/mm/yy"
               > <!-- Llama al método onDateChange -->
            </p-calendar>
            <label htmlFor="fecha">Fecha de inicio:</label>
        </span>
    </div>
</div>



<!--   <div class="field col" style="margin-top: 10px ;min-width: 320px;">
    <div>
      <span class="p-float-label">
        <p-calendar pInputText type="date" id="endDate" [(ngModel)]="endDate" placeholder="Ingresa la fecha de fin"></p-calendar>
        <label for="endDate">Fecha de fin:</label>
      </span>
    </div>
    
  </div> -->

  <div class="field col" style=" min-width: 320px;">
    <div class="card flex justify-content-center">
        <span class="p-float-label">
            <p-calendar 
                [(ngModel)]="endDate" 
                name="endDate" 
                [showIcon]="true" 
                dateFormat="dd/mm/yy"
               > <!-- Llama al método onDateChange -->
            </p-calendar>
            <label htmlFor="fecha">Fecha de fin:</label>
        </span>
    </div>
</div>


</div>
  <div class="formgrid grid" style="display: flex; gap: 1rem;">
  <div class="field col" style="margin-top: 10px ;min-width: 320px;">
  <div>
    <p-button (click)="loadReport()">Cargar Reporte</p-button>
  </div>
</div>
</div>

  <app-report-child *ngIf="reportData.length > 0" [title]="selectedReport.label" [data]="reportData"></app-report-child>

</p-card>
</div>